<?xml version="1.0" encoding="UTF-8"?>
<Symbol IsArchivable="false" IsPlaceable="false" MainGUID="BC75FFAC-EF9E-44EA-84BF-240AC9BCC90A" MigrationValue="Normal" Owner="1196638531" Signature="1196644685" Version="38">
<Ancestry SectVersion="1" SectionFlags="0" SubIdent="0" Template="false">
	<MainGUID>F938E33A-329D-4A36-BE3E-85E126820996</MainGUID>
	<MainGUID>103E8D2C-8230-42E1-9597-46F84CCE28C0</MainGUID>
</Ancestry>

<CalledMacros SectVersion="2" SectionFlags="0" SubIdent="0">
</CalledMacros>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_3D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_3D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_2D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_2D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_1D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
!2014
!kuvbur@gmail.com

EPS = 0.0001
unID = 8800
PAPER_TO_MODEL = GLOB_SCALE / 1000
dim tpolozh[]
dim ipolozh[] : i=0
i=i+1 : ipolozh[i]=1 : tpolozh[i] = "Влево-вверх"
i=i+1 : ipolozh[i]=2 : tpolozh[i] = "Вправо-вверх"
i=i+1 : ipolozh[i]=3 : tpolozh[i] = "Влево-вниз"
i=i+1 : ipolozh[i]=4 : tpolozh[i] = "Вправо-вниз"
add2 coord[1][1], coord[1][2]
if polozh = 0 then polozh = 1
h_polki=0
if polozh = 1 then
	anch_v = 9
	anch_n = 3
endif

if polozh = 2 then
	anch_v = 9
	anch_n = 3
	mul2 -1,1
endif

if polozh = 3 then
	anch_v = 9
	anch_n = 3
	mul2 1,-1
endif

if polozh = 4 then
	anch_v = 7
	anch_n = 1
	mul2 -1,-1
	h_polki = 2
endif
DEFINE STYLE "verh" Shrift , Shrift_razm, anch_v, Shrift_tip
DEFINE STYLE "niz" Shrift , Shrift_razm, anch_n, Shrift_tip
n = REQUEST ("Height_of_style", "verh", height)
height = height *PAPER_TO_MODEL

if dlin_polki<EPS then dlin_polki = 20*PAPER_TO_MODEL
if h_strelki<EPS then h_strelki = height
if vistup_strelki<EPS then vistup_strelki = h_strelki

if dlin_vin<EPS then
	for i=1 to vardim1(otm)
		otmetka_v=otm[i][1]
		otmetka_n=otm[i][1]
		dlin_vin = max(dlin_vin,height*strlen(otmetka_n),height*strlen(otmetka_v))
	next i
	dlin_vin = dlin_vin*0.5
endif
line2 0,0,-dlin_polki,0
line2 -dlin_polki+vistup_strelki,0,-dlin_polki+vistup_strelki-h_strelki,h_strelki
line2 -dlin_polki+vistup_strelki,0,-dlin_polki+vistup_strelki+h_strelki,h_strelki
h_polki=h_strelki
for i=1 to vardim1(otm)
	otmetka_v=otm[i][1]
	otmetka_n=otm[i][2]
	if strlen(otmetka_v)>EPS or strlen(otmetka_n)>EPS then
		del top
		add2 coord[1][1], coord[1][2]
		if polozh = 2 then mul2 -1,1
		if polozh = 3 then mul2 1,-1
		if polozh = 4 then mul2 -1,-1
		h_polki = h_polki + height+(strlen(otmetka_n)>0)*height*1.2
		line2 -dlin_polki+vistup_strelki,h_polki,-dlin_polki+vistup_strelki-dlin_vin,h_polki
		line2 -dlin_polki+vistup_strelki,0,-dlin_polki+vistup_strelki,h_polki
		if strlen(otmetka_v)>EPS then
			STYLE "verh"
			add2 -dlin_polki+vistup_strelki,h_polki
			if polozh = 4 then mul2 -1,-1
			if polozh = 3 then mul2 1,-1
			text2 0,0,otmetka_v
			del top
		endif
		add2 coord[1][1], coord[1][2]
		if polozh = 2 then mul2 -1,1
		if polozh = 3 then mul2 1,-1
		if polozh = 4 then mul2 -1,-1
		if strlen(otmetka_n)>EPS then
			STYLE "niz"
			add2 -dlin_polki+vistup_strelki,h_polki
			if polozh = 4 then mul2 -1,-1
			if polozh = 3 then mul2 1,-1
			text2 0,0,otmetka_n
			del top
		endif
	endif
next i

]]>
</Script_1D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_PR SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_PR>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_UI SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_UI>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_VL SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
values{2} "polozh" ipolozh, tpolozh
]]>
</Script_VL>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_FWM SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_FWM>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_BWM SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_BWM>

<ParamSection SectVersion="26" SectionFlags="0" SubIdent="0">
	<ParamSectHeader>
		<Version>26</Version>
		<AutoHotspots>false</AutoHotspots>
		<StatBits>
			<STBit_FixSize/>
		</StatBits>
		<WDLeftFrame>0</WDLeftFrame>
		<WDRightFrame>0</WDRightFrame>
		<WDTopFrame>0</WDTopFrame>
		<WDBotFrame>0</WDBotFrame>
		<LayFlags>65535</LayFlags>
		<WDMirrorThickness>0</WDMirrorThickness>
		<WDWallInset>0</WDWallInset>
		<SymbolColor>0</SymbolColor>
	</ParamSectHeader>
	<Parameters>
		<Length Name="dlin_vin">
			<Description><![CDATA["Длина выноски"]]></Description>
			<Value>0</Value>
		</Length>
		<Length Name="h_polki">
			<Description><![CDATA["Высота полки"]]></Description>
			<Value>0</Value>
		</Length>
		<Length Name="h_strelki">
			<Description><![CDATA["Высота стрелки"]]></Description>
			<Value>0</Value>
		</Length>
		<Length Name="dlin_polki">
			<Description><![CDATA["Длина полки (0-автомат)"]]></Description>
			<Value>0</Value>
		</Length>
		<Length Name="vistup_strelki">
			<Description><![CDATA["Отступ стрелки от края"]]></Description>
			<Value>0</Value>
		</Length>
		<String Name="otm">
			<Description><![CDATA["Текст отметки - низ"]]></Description>
			<ArrayValues FirstDimension="1" SecondDimension="2">
				<AVal Column="1" Row="1"><![CDATA[""]]></AVal>
				<AVal Column="2" Row="1"><![CDATA[""]]></AVal>
			</ArrayValues>
		</String>
		<Length Name="coord">
			<Description><![CDATA[""]]></Description>
			<ArrayValues FirstDimension="1" SecondDimension="2">
				<AVal Column="1" Row="1">0</AVal>
				<AVal Column="2" Row="1">0</AVal>
			</ArrayValues>
		</Length>
		<Integer Name="polozh">
			<Description><![CDATA["Положение"]]></Description>
			<Value>1</Value>
		</Integer>
		<Length Name="A">
			<Description><![CDATA["Размер 1"]]></Description>
			<Fix/>
			<Value>1</Value>
		</Length>
		<Length Name="B">
			<Description><![CDATA["Размер 2"]]></Description>
			<Fix/>
			<Value>1</Value>
		</Length>
		<Length Name="ZZYZX">
			<Description><![CDATA["Высота"]]></Description>
			<Fix/>
			<Value>1</Value>
		</Length>
		<Boolean Name="AC_show2DHotspotsIn3D">
			<Description><![CDATA["Показ Узловых 2D Точек в 3D"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Length Name="ac_bottomlevel">
			<Description><![CDATA["Отметка Низа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Length Name="ac_toplevel">
			<Description><![CDATA["Отметка Верха"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<String Name="Shrift">
			<Description><![CDATA["Шрифт"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["ISOCPEUR"]]></Value>
		</String>
		<RealNum Name="Shrift_razm">
			<Description><![CDATA["Размер шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>2.5</Value>
		</RealNum>
		<Integer Name="Shrift_tip">
			<Description><![CDATA["Тип (обычный, курсив, жирный)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Integer>
	</Parameters>
</ParamSection>

<Copyright SectVersion="1" SectionFlags="0" SubIdent="0">
	<Author></Author>
	<License>
		<Type>CC0</Type>
		<Version>1.0</Version>
	</License>
</Copyright>

<Keywords SectVersion="1" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Keywords>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Comment SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Comment>

</Symbol>
